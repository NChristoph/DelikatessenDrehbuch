@model WeekyRecipesModel

<div class="Bg-Cream minWidth100 mobieleWidth90">
    <form asp-controller="Admin" asp-action="AddNewWeeklyRecipes">
        <input asp-for="@Model.WeeklyRecipe.Name" />
        @{
            for (int i = 0; i < Model.WeeklyRecipeHandlers.Length / 3; i++)
            {
                int index = i + 1;
                        <div class="flexColumn mt-2 Border-Gold p-2">
                            <span class="mb-2"> Rezept Nummer : @index</span>
                            <div class="flexRow flexJustifyContendSpaceBetween mt-1">
                                <span style="flex-basis:25%">Frühstück:</span>
                                <input id="Breakfast_@i" asp-for="@Model.WeeklyRecipeHandlers[i].Breakfast.Id" hidden />
                        <button type="button" class="bgRed Border-Gold" style="color:white;flex-basis:50%" data-bs-toggle="modal" data-id="Breakfast_@i.ToString()" data-bs-target="#selectRecipeModal">Rezept auswählen</button>
                            </div>
                            <div class="flexRow flexJustifyContendSpaceBetween mt-1">
                                <span style="flex-basis:25%">Mittag:</span>
                                <input id="Lunch_@i" asp-for="@Model.WeeklyRecipeHandlers[i].Lunch.Id"  hidden />
                        <button type="button" class="bgRed Border-Gold" style="color:white;flex-basis:50%" data-bs-toggle="modal" data-id="Lunch_@i.ToString()" data-bs-target="#selectRecipeModal">Rezept auswählen</button>
                            </div>
                            <div class="flexRow flexJustifyContendSpaceBetween mt-1">
                                <span style="flex-basis:25%">Abednd:</span>
                                <input id="Dinner_@i" asp-for="@Model.WeeklyRecipeHandlers[i].Dinner.Id" hidden />
                        <button type="button" class="bgRed Border-Gold" style="color:white;flex-basis:50%" data-bs-toggle="modal" data-id="Dinner_@i.ToString()" data-bs-target="#selectRecipeModal">Rezept auswählen</button>
                            </div>
                        </div>


            }
        }

        <button type="submit" class="bgRed Border-Gold mt-2" style="color:white">Rezept erstellen</button>
    </form>

</div>


<div class="modal fade" id="selectRecipeModal" tabindex="-1" aria-labelledby="selectRecipeModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="selectRecipeModalLabel">Modal title</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input id="setValue" hidden/>
                <div id="containerForWeeklyRecipes"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>



@section Scripts
{
    <script>
        $(document).ready(function () {
            $('#selectRecipeModal').on('shown.bs.modal', function (event) {
                var button = $(event.relatedTarget); 
                var id = button.attr('data-id');
                $('#setValue').val(id);
                $('#containerForWeeklyRecipes').load('@Url.Action("SelectWeeklyRecipes")');
              
            })

           
        });
       
        function SelectBreakfast(id) {

        }

        function SelectLunch(id) {

        }

        function SelectDinner(id) {

        }
    </script>
}